# ğŸ¤– é€€è²¨èˆ‡ä¿å›ºæ´å¯Ÿ AI ä»£ç†ç³»çµ±

## ğŸš€ ç·šä¸Šå±•ç¤º (Live Demo)

æˆ‘å·²ç¶“å°‡é€™å€‹å°ˆæ¡ˆéƒ¨ç½²ä¸Šç·šï¼Œæ‚¨å¯ä»¥é€éä»¥ä¸‹é€£çµç›´æ¥èˆ‡å®ƒäº’å‹•ï¼š  

ğŸ‘‰ [**é»æ­¤å‰å¾€ç·šä¸Šå±•ç¤º**](https://python-agent-app-chuan-jen.streamlit.app/)

---

## âœ¨ è¨­è¨ˆç†å¿µèˆ‡æ ¸å¿ƒåŠŸèƒ½

åœ¨é€™å€‹å°ˆæ¡ˆä¸­ï¼Œæˆ‘è¨­è¨ˆäº†ä¸€å€‹ç”± **å…©å€‹æ ¸å¿ƒä»£ç† (Agents)** çµ„æˆçš„ç³»çµ±ï¼Œå®ƒå€‘å„è‡ªè² è²¬ä¸åŒä»»å‹™ï¼Œä¸¦é€éä¸€å€‹ç°¡å–®çš„ä»‹é¢é€²è¡Œå”èª¿ã€‚  

---

### 1. æª¢ç´¢ä»£ç† (Retrieval Agent) â€” è³‡æ–™åº«çš„å¿ƒè‡Ÿ

æœ€åˆçš„é¡Œç›®æç¤ºæ˜¯ä½¿ç”¨è‡ªç„¶èªè¨€ä¾†æ–°å¢è³‡æ–™ï¼Œä½†æˆ‘èªç‚ºä¸€å€‹ **çµæ§‹åŒ–çš„è¡¨å–®** èƒ½å¸¶ä¾†æ›´å¥½çš„ä½¿ç”¨è€…é«”é©—ï¼Œä¸¦ä¸”èƒ½å¾æºé ­ç¢ºä¿è³‡æ–™å“è³ªã€‚  

#### æ ¸å¿ƒåŠŸèƒ½
- **è‡ªå‹•åŒ–ä¸»éµ**  
  `Order ID` ç”±ç³»çµ±è‡ªå‹•ç”Ÿæˆï¼ˆæŠ“å–æœ€æ–° ID +1ï¼‰ï¼Œå®Œå…¨é¿å…ä¸»éµé‡è¤‡æˆ–ç„¡æ•ˆçš„é¢¨éšªã€‚  

- **é›²ç«¯è³‡æ–™ä¾†æº**  
  æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•æ™‚ï¼Œæœƒè‡ªå‹•å¾ **Google Sheet** è®€å–è³‡æ–™ï¼Œè€Œä¸æ˜¯ä¾è³´å›ºå®šçš„æœ¬åœ° CSVã€‚  

- **å‰ç«¯é©—è­‰**  
  åœ¨é€å‡ºå‰æª¢æŸ¥è¼¸å…¥çš„æ ¼å¼ï¼Œä¾‹å¦‚ï¼šç”¢å“åç¨±è‡³å°‘ 2 å€‹å­—å…ƒã€åº—å®¶åç¨±è‡³å°‘ 2 å€‹å­—å…ƒã€é‡‘é¡å¿…é ˆå¤§æ–¼ 0ã€‚  

#### ğŸ”§ æ–°å¢çš„ç¨‹å¼é‚è¼¯
åœ¨æœ€æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œå° **æª¢ç´¢ä»£ç†** æ–°å¢äº†å¹¾å€‹åŠŸèƒ½ï¼š  

1. **é›™é‡è¼¸å…¥æ¨¡å¼**  
   - æ”¯æ´ **è¡¨å–®è¼¸å…¥** èˆ‡ **è‡ªç„¶èªè¨€è¼¸å…¥ (NLP)**ã€‚  
   - NLP æ¨¡å¼æœƒå‘¼å« **Google Gemini API**ï¼Œè‡ªå‹•è§£æç‚ºçµæ§‹åŒ–è³‡æ–™ï¼Œä¸¦å¯«å…¥è³‡æ–™åº«ã€‚  

2. **NLP è³‡æ–™è½åœ°ç­–ç•¥**  
   - ç¼ºæ¼æ¬„ä½æœƒè£œä¸Šé è¨­å€¼ï¼ˆæ•¸å­— â†’ `0.0`ï¼Œæ–‡å­— â†’ `"Unknown"`ï¼‰ã€‚  
   - NLP æ–°å¢ç´€éŒ„ä¸€å¾‹æ¨™è¨˜ç‚º **æœªæ‰¹å‡† (`approved_flag = No`)**ã€‚  

3. **éåŒæ­¥è«‹æ±‚ (async/await)**  
   - ä½¿ç”¨ **httpx.AsyncClient** æ­é… `async/await`ï¼Œé¿å…é˜»å¡ UIã€‚  

4. **å³æ™‚å›é¥‹æ©Ÿåˆ¶**  
   - NLP è§£ææ™‚é¡¯ç¤º spinnerã€ŒAI æ­£åœ¨è§£æä¸­â€¦ã€ï¼Œå®Œæˆå¾Œç›´æ¥å±•ç¤º JSON çµæœï¼Œè®“ä½¿ç”¨è€…ç¢ºèªã€‚  

---

### 2. å ±å‘Šä»£ç† (Report Agent) â€” å•†æ¥­æ´å¯Ÿçš„çª—å£

**å ±å‘Šä»£ç†** çš„ç›®æ¨™æ˜¯æä¾›å¿«é€Ÿçš„æ•¸æ“šæ´å¯Ÿã€‚å®ƒæœƒç”Ÿæˆä¸€ä»½åŒ…å«å…©å€‹å·¥ä½œè¡¨çš„ Excel å ±å‘Šï¼š  

- **`Summary` (æ‘˜è¦)**  
  æä¾›é«˜å±¤æ¬¡çš„ KPIsï¼Œä¾‹å¦‚ç¸½é€€è²¨æˆæœ¬ã€å·²æ‰¹å‡†çš„é€€è²¨æ¯”ä¾‹ã€‚  

- **`Findings` (è©³ç´°è³‡æ–™)**  
  åŒ…å«å®Œæ•´çš„è³‡æ–™åº«å…§å®¹ï¼Œæ–¹ä¾¿é€²è¡Œæ·±åº¦åˆ†æã€‚  

---

### ğŸ—ï¸ ç³»çµ±æ¶æ§‹åœ–

```mermaid
flowchart TD
    subgraph User["ä½¿ç”¨è€…"]
        A1["è¡¨å–®è¼¸å…¥"] --> C
        A2["è‡ªç„¶èªè¨€è¼¸å…¥ (NLP)"] --> C
        A3["ä¸‹è¼‰å ±å‘Š"] --> E
    end

    subgraph Coordinator["å”èª¿å™¨ (Streamlit å‰ç«¯)"]
        C["åˆ†æ´¾è«‹æ±‚"]
    end

    subgraph RetrievalAgent["æª¢ç´¢ä»£ç† (Retrieval Agent)"]
        C --> B1["é©—è­‰ / NLP è§£æ"]
        B1 --> B2["SQLite è³‡æ–™åº«"]
        B2 --> B3["æ›´æ–°ç´€éŒ„ / å›å‚³æ¸…å–®"]
    end

    subgraph ReportAgent["å ±å‘Šä»£ç† (Report Agent)"]
        C --> D1["å–å¾—è³‡æ–™"]
        D1 --> D2["ç”Ÿæˆ Excel å ±å‘Š"]
        D2 --> E["å›å‚³ä¸‹è¼‰é€£çµ"]
    end
